<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Search Flights</title>
        <script type="text/javascript">
            if ("#{user.loggedIn}" != "valid") {
                window.location.replace("../error.xhtml");
            }

        </script>

        <script>
            function testJs(type) {
                if (type == "One-Way") {
                    document.getElementById("returning").style.display = "none";
                    document.getElementById("roundTrip").style.display = "none";
                    document.getElementById("oneWay").style.display = "block";
                }
                else {
                    document.getElementById("returning").style.display = "block";
                    document.getElementById("roundTrip").style.display = "block";
                    document.getElementById("oneWay").style.display = "none";
                }

            }
        </script>

    </h:head>
    <h:body>

        <h:form>
            <h:selectOneRadio value="#{flightSearch.flightDirection}" onclick="testJs(value)">
                <f:selectItem itemValue="Round-Trip" itemLabel="Round-Trip" />
                <f:selectItem itemValue="One-Way" itemLabel="One-Way" />
                <f:selectItem itemValue="Multi-Trip" itemLabel="Multi-Trip" />
            </h:selectOneRadio>
            <h:panelGrid id="grid" columns="2" style="margin-bottom:15px">


                <h:outputLabel value="Flying From " style="font-weight:bold" />

                <p:autoComplete id="ff" dropdown="true" pt:placeholder="Enter an Airport" value="#{flightSearch.flightFrom}" 
                                completeMethod="#{flightSearch.completeCities()}" />


                <h:outputLabel value="Flying To " style="font-weight:bold" />
                <p:autoComplete id="ft" dropdown="true" pt:placeholder="Enter an Airport" value="#{flightSearch.flightTo}" 
                                completeMethod="#{flightSearch.completeCities()}" />

                <h:outputText value="Departing Time" />
                <p:calendar value="#{flightSearch.departing}"  />
            </h:panelGrid>
            <div id="returning">
                <h:panelGrid id="grid2" columns="2" style="margin-bottom:15px">
                    <h:outputText value="Returning Time "  />
                    <p:calendar value="#{flightSearch.returning}" />
                </h:panelGrid>
            </div>
            <div id="roundTrip">
                <p:commandButton value="Search" action="flightResultsRoundTrip" />
            </div>
            <div id="oneWay" style="display:none">
                <p:commandButton value="Search" action="flightResults" />
            </div>
        </h:form>
    </h:body>
</html>

